# JAVA 코드 컨벤션 

# 왜 코드 컨벤션이 필요할까?   
> 코딩 규칙은 여러가지 이유에서 프로그래머에게 중요하다    
   
* 소프트웨어를 개발하는 일련의 모든 과정에 들어가는 비용 중 80%가 유지보수에 쓰여진다.      
* 소프트웨어의 직접 개발한 개발자가 그 소프트웨어의 유지보수를 담당하는 경우는 거의 보기 힘들다.      
* 코딩 규칙을 지키면 가독성이 높아져 다른 개발자가 소스 코드를 처음 보더라도 더 빠르고 완벽하게 이해할 수 있게된다.  
* 자신의 소스 코드를 제품으로 팔려고 한다면, 자신의 다른 소스 코드들과 잘 어울리도록 패키지(package)를 적절하게 구성할 필요가 있다.   

# 파일 이름
## 확장자
|파일형태|확장자|
|------|----|
|자바 소스|.java|
|자바 바이트코드|.class|

## 공통으로 시작되는 파일 이름
|파일 이름|사용|
|-------|---|
|GNUmakefile make| 파일 이름으로 사용, 소프트웨어를 빌드할 때는 gnumake 명령어를 사용|
|README|특정 디렉토리의 내용을 요약하는 파일 이름으로 사용|

# 파일 구조
* 파일은 빈 줄이나 다른 구역임을 나타내주는 주석으로 나누어지는 여러 구역(section)들로 구성되어 있다.
* 2,000 라인을 넘는 파일은 이해하기가 쉽지 않기 때문에 될 수 있으면 피해야 한다.

# 자바 소스 파일
* 시작 주석
* Package 문과 Import 문
* Class와 Interface 선언

## 시작 주석
> 모든 소스 파일은 클래스 이름, 버전 정보, 날짜, 저작권 주의를 보여주는 C 스타일의 주석과 함께 시작한다.

```java
/*
 * 클래스 이름 
 * 
 * 버전 정보 
 * 
 * 날짜 
 * 
 * 저작권 주의 
 */
```

## Package 문과 Import 문
> 자바 소스 파일의 첫 번째 줄은 Package 문이다. 그 후에 Import 문이 뒤따라 나온다.

```java
package java.code.convention;

import java.util.*;
```

## Class와 Interface 선언

|순서|클래스/인터페이스 <br> 선언의 구성요소|설명|
|---|-------------------------|----|
|1|문서화 주석 <br>`(/** .. */)`|이 주석이 포함하는 정보들은 아래 "5장의 2절 문서화(Documentation) 주석"을 참고|
|2|클래스/인터페이스 문||	 
|3|구현 주석 <br>`(/* .. */)`|이 주석은 클래스/인터페이스 문서화 주석에 적합하지 않은 하나의 클래스/인터페이스에만 해당하는 정보들을 포함해야 한다.|	 
|4|클래스(static) 변수|`public` -> `protected` -> `package` -> `private`|
|5|일반 변수|`public` -> `protected` -> `package` -> `private`|
|6|생성자||	 
|7|메서드|메서드들은 범위나 접근성을 기준으로 나누기 보다는 기능성에 의해서 구성되어야 한다.<br> 예를 들어, private 클래스 메서드가 두 개의 public 메서드들 사이에 존재할 수도 있다.<br> 이렇게 하는 목적은 코드가 더 쉽게 읽히고, 더 쉽게 이해되도록 돕기 위해서이다.<br> 쉽게 얘기하면 호출하는 메서드와 호출되는 메서드는 가까이 붙는 것이 좋다.|

# 들여쓰기 
* 4개의 빈 칸(space)를 들여쓰기 단위로 사용한다. 
* 들여쓰기의 정확한 구현(빈 칸을 사용하거나 탭을 사용하거나)은 정해져 있지 않다. 
* 탭은 4개의 빈 칸이 아니라, 8개의 빈 칸으로 설정하는 것이 좋다. 
 
## 한 줄의 길이
* 한 줄에 80자 이상 쓰는 것은 대부분의 터미널(terminal)과 툴에서 다룰 수 없기 때문에 피해야 한다.
* 문서화 주석을 가지고 문서를 만들 때, 일반적으로 한 줄에 70자 이상을 가지지 않는다.

## 2 줄 나누기
> 하나의 식이 한 줄에 들어가지 않을 때에는, 다음과 같은 일반적인 원칙들을 따라서 두 줄로 나눈다.

* 콤마 후에 두 줄로 나눈다. 
* 연산자(operator) 앞에서 두 줄로 나눈다.
* 레벨이 낮은 원칙보다는 레벨이 높은 원칙에 따라 두 줄로 나눈다.
* 앞줄과 같은 레벨의 식(expression)이 시작되는 새로운 줄은 앞줄과 들여쓰기를 일치시킨다.
* 만약 위의 원칙들이 코드를 더 복잡하게 하거나 오른쪽 끝을 넘어간다면, 대신에 8개의 빈 칸을 사용해 들여쓴다.

```java
longName1 = longName2 * (longName3 + longName4 - longName5)
        + 4 * longname6; // 될 수 있으면 이 방법을 사용한다. 
        
longName1 = longName2 * (longName3 + longName4 
                       - longName5) + 4 * longname6; // 될 수 있으면 피한다.
```
* 첫번째 예제가 괄호로 싸여진 표현식 밖에서 줄 바꿈이 일어나고 더 높은 레벨이기 때문에 첫번째 예제를 더 많이 사용한다.

```java
// 일반적인 들여쓰기 
someMethod(int anArg, Object anotherArg, String yetAnotherArg, 
        Object andStillAnother) { 
    ... 
} // 너무 멀리 들여쓰는 것을 피하기 위해 8개의 빈 칸으로 들여쓰기 

private static synchronized horkingLongMethodName(int anArg, 
        Object anotherArg, String yetAnotherArg, 
        Object andStillAnother) { 
    ... 
}
```
* 블록을 진행하기 전에 일반적인 들여쓰기를 사용한다면 4개의 빈칸 대신에, 8개의 빈 칸을 이용하여 들여쓴다.

```java
// 아래와 같은 들여쓰기는 사용하지 말자. 
if ((condition1 && condition2) 
    || (condition3 && condition4) 
    ||!(condition5 && condition6)) { // 좋지 않은 들여쓰기 
    doSomethingAboutIt(); // 메서드 본문 시작이 명확하지가 않다. 
} 

// 대신에 아래와 같은 들여쓰기를 사용한다. 
if ((condition1 && condition2) 
        || (condition3 && condition4) 
        ||!(condition5 && condition6)) { 
    doSomethingAboutIt(); 
} 

// 또는 아래와 같은 들여쓰기를 사용한다. 
if ((condition1 && condition2) || (condition3 && condition4) 
        ||!(condition5 && condition6)) { 
    doSomethingAboutIt(); 
}
```
* 블록을 진행하기 전에 일반적인 들여쓰기를 사용한다면 4개의 빈칸 대신에, 8개의 빈 칸을 이용하여 들여쓴다.

```java
alpha = (aLongBooleanExpression) ? beta : gamma; 

alpha = (aLongBooleanExpression) ? beta 
                                 : gamma; 

alpha = (aLongBooleanExpression) 
    ? beta 
    : gamma;
```
* 삼항식(ternary expression)에서는 세 가지 방법 전부 사용 가능하다.    
    
# 주석 
  
**구현 주석 :**      
* `//` or `/*...*/`   
* 구현 주석은 각각의 구현에 대한 추가적인 설명이 필요할 때, 또는 코드를 주석 처리할 때 사용할 수 있다.    
   
**문서화 주석 :**       
* `/** ... */`      
* javadoc 툴을 사용하면 문서화 주석을 포함하는 HTML 파일을 자동으로 만들 수 있다.        
* 또한 문서화 주석은 소스 코드가 없는 개발자들도 읽고 이해할 수 있도록,           
실제 구현된 코드와는 상관이 없는 코드의 명세 사항(specification)을 포함한다.          

주석은 코드에 대한 개요와 코드 자체만 가지고는 알수 없는 추가적인 정보들을 제공하기 위해 사용되어야 한다.        
주석은 프로그램을 읽는 것과 이해하는 것에 관계된 정보만을 포함하고 있어야 한다.         
예를 들어, '패키지를 어떻게 만들 것인가?' 또는 '파일들을 어느 디렉토리에 위치시킬 것인가?'에 대한 정보는 주석에 포함되어서는 안된다.       

중요하거나 코드만으로는 명확하지 않은 프로그램 설계에 대한 추가 설명을 포함하는 것은 적절하지만,      
그러나 코드 상에 이미 표현되어 있는 중복 정보는 피해야 한다.        

중복된 주석을 작성하는데 많은 시간을 허비해서 계획된 시간안에 프로그램을 완성하지 못하는 경우도 발생한다.         
일반적으로 코드가 계속 발전하면 더이상은 유효하지 않을 것 같은 정보들은 주석에서 제외하는 것이 더 나은 방법이다.    
     
주석을 별표(`*`) 또는 다른 문자를 사용하여 그린 큰 사각형에 넣는 방법은 피하도록 하자.     
주석은 폼 피드(form-feed: 프린터에서 용지 바꿈)나 백스페이스(backspace)와 같은 특수 문자를 포함해서는 안 된다.       

```
불필요한 주석은 코드의 품질이 낮다는 것을 증명하고 가독성을 낮추는 것은 물론, 코드와 같이 관리해야한다는 번거로움이 생긴다.    
주석을 추가해야 한다고 느낄 때, 코드를 좀 더 명확하게 다시 작성하는 것을 고려해 보는 것이 좋다.    
```   

## 구현 주석 
> 프로그램은 다음과 같은 4가지 형식의 구현 주석을 포함할 수 있다.
     
* 블록(Block) 주석    
* 한 줄(Single-Line) 주석    
* 꼬리(Trailing) 주석    
* 줄 끝(End-Of-Line) 주석   

### 블록(Block) 주석
> 메서드, 자료구조, 알고리즘에 대한 설명을 제공할 때 사용된다.

```java
/*
 * 여기에 블록 주석을 작성한다.   
 */
```
* 각각의 파일이 시작될 때와 메서드 전에 사용된다.
* 메서드 안에서와 같이 다른 장소에서 사용될 수도 있다.
  * 메서드 안에 존재하는 블록 주석은 주석이 설명하는 코드와 같은 단위로 들여쓰기를 해야한다.
* 블록 주석은 다른 코드들과 구분하기 위해서 처음 한 줄은 비우고 사용한다. (위 코드에서 보면 2번째에 시작)   

```java
/*- 
 * 여기에 들여쓰기를 무시하는 특별한 
 * 블록 주석을 작성한다. 
 * 
 *     one 
 *         two 
 *             three 
 */

```
* 블록 주석의 들여쓰기를 다시 고치지 못하도록 하기 위한 특별한 블록 주석은 `/*-` 으로 시작할 수 있다.

### 한 줄(Single-Line) 주석       
> 짧은 주석은 뒤따라 오는 코드와 같은 동일한 들여쓰기를 하는 한 줄로 작성할 수 있다.    

```java
if (condition) { 

    /* 이 조건을 만족하면 실행된다. */ 
    ... 
}
```
* 만약 주석이 한 줄에 다 들어가지 않는다면, 블록 주석 형식을 따라야 한다. 
* 한 줄 주석은 빈 줄로 시작되어야 한다.

### 꼬리(Trailing) 주석    
> 아주 짧은 주석이 필요한 경우 주석이 설명하는 코드와 같은 줄에 작성한다.

```java
if (a == 2) {
    return TRUE;            /* 특별한 경우 */
} else {
    return isPrime(a);      /* a 가 홀수인 경우 */
}
```
* 실제 코드와는 구분될 수 있도록 충분히 멀리 떨어뜨려야 한다.

### 줄 끝(End-Of-Line) 주석   
> 주석 기호 // 는 한 줄 모두를 주석 처리하거나 한 줄의 일부분을 주석 처리해야 할 때 사용할 수 있다.    

```java
if (foo > 1) {
  
    // double-flip을 실행한다.
    ...
}
else {
    return false;          // 이유를 여기에 설명한다.
}
//if (bar > 1) {
//
//    // double-flip을 실행한다.
//    ...
//}
//else {
//    return false;
//}
```
* 긴 내용을 주석에 포함하기 위해서 연속되는 여러 줄에 이 주석을 사용하는 것은 안되지만,     
어떤 코드의 일부분을 주석 처리하기 위해서 여러 줄에 연속해서 사용하는 것은 허락된다.     

## 문서화 주석 
> 문서화 주석은 다음 5가지를 설명한다.
   
* 자바 클래스
* 인터페이스
* 생성자
* 메서드
* 필드
    
각각의 문서화 주석은 주석 경계 기호인 `/** ... */` 안으로 들어간다.    
그리고 각각의 문서화 주석은 클래스, 인터페이스 그리고 멤버 당 하나씩 가진다.    
문서화 주석은 선언 바로 전에 나와야 한다.   

```java
/**
 * Example 클래스는 ...
 */
public class Example { ...
```   
* 클래스에 대한 문서화 주석(`/**`)의 첫 번째 줄은 들여쓰지 않는다.         
* 그 다음에 나오는 문서화 주석은 별표를 수직으로 맞추기 위해 각각 1개의 빈 칸을 들여쓰기를 한다.    
* 만약 클래스, 인터페이스, 변수 또는 메서드에 대한 어떤 정보를 제공하고 싶지만 문서화 주석에 어울리지 않는다고 생각된다면,    
* 클래스 선언 바로 후에 블록(Block) 주석 또는 한 줄(Single-Line) 주석을 사용한다.      
* 예를 들어, 클래스의 구현에 대한 세부 사항들은 클래스에 대한 문서화 주석이 아니라, 클래스 선언문 다음에 블록 주석을 사용해야 한다.      
* 자바는 문서화 주석을 주석 이후에 처음 나오는 선언문과 연결시키기 때문에 문서화 주석은 메서드 또는 생성자 구현 안에 위치해서는 안 된다.

# 선언
## 한 줄당 선언문의 수
> 한 줄에 하나의 선언문을 쓰는 것이 주석문 쓰는 것을 쉽게 해주기 때문에 한 줄에 하나의 선언문을 쓰는 것이 좋다.

**한 줄에 여러 선언문**
```java
int level, size;
```

**한 줄에 하나의 선언문**
```java
int level; // 들여쓰기 단위
int size;  // 테이클 크기
```

**한 줄에 여러 타입 선언문**
```java
int foo,  fooarray[]; //절대 이렇게 사용하지 말자
```
* 절대 금지   

**스페이스를 준 선언문**
```java
int      level;            // 들여쓰기 단위 
int      size;             // 테이블 크기 
Object   currentEntry;     // 테이블에서 현재 선택된 데이터
```
* 코드 컨벤션에서는 사용가능한 하나의 방법이라 말한다.      
* 하지만, 클린 코드에서는 이같은 방법을 지양하고 있다.   
* 개인적인 생각으로는 코드 이름이 길면 들여쓰기도 달라지고 이를 관리해야하는 어려움이 있지 않을까 싶다.     

## 초기화    
* 지역 변수의 경우, 지역 변수를 선언할 때 초기화 하는 것이 좋다.     
* 변수의 초기화 값이 다른 계산에 의해서 결정되는 경우라면, 변수를 선언할 때 초기화 하지 않아도 괜찮다.    
* 개인적인 경험으로 싱글톤 패턴에서 static 초기화를 진행하지 않으면 RaceCondition이 발생하는 위험도 있었다.     
  * https://velog.io/@kwj1270/Singletone-pattern

## 배치  

```java
void myMethod() { 
    int int1 = 0;       // 메서드 블록의 시작 
    if (condition) { 
        int int2 = 0;   // "if" 블록의 시작 
        ... 
    } 
}
```
* 선언은 블록의 시작에 위치해야 한다(보통 블록은 중괄호 "{ }" 로 둘러싸인 코드를 의미한다). 
* 변수를 처음 사용할 때까지 변수의 선언을 미루지 말자. 
* 이러한 경우 부주의한 프로그래머들은 혼돈에 빠질 수 있고, 영역내에서 코드를 이동해야 하는 경우에 문제를 야기시킬 수 있다.

```java
for (int i = 0; i < maxLoops; i++) { ... }
```
* 이러한 원칙에도 예외는 존재한다. 그 중 하나가 for 문에서 선언하는 반복문을 위한 인데스이다.

```java
int count;              // 먼저 이름이 사용된 변수  
... 
myMethod() { 
    if (condition) { 
        int count = 0; // 이렇게 사용하지 말 것! 
        ... 
        } 
    ... 
}
```
* 상위 영역에서 선언된 것을 숨기기 위해서 블록의 처음 부분에서 다시 선언하는 것은 피해야 한다. 
* 예를들어, 블록 안의 블록에서 동일한 변수 이름을 사용해서 선언하지 말아야 한다.
* 궁금증 : 그렇다면 생성자와 같은 부분에서 변수의 이름을 달리해줘야 하나?    

## 클래스와 인터페이스의 선언  
> 자바 클래스와 인터페이스를 선언할 때, 다음 3가지 원칙을 따르도록 하자     
   
*
*
*

# 참고 
블로그 :    
https://myeonguni.tistory.com/1596    
http://kwangshin.pe.kr/blog/java-code-conventions-%EC%9E%90%EB%B0%94-%EC%BD%94%EB%94%A9-%EA%B7%9C%EC%B9%99/    
https://velog.io/@aidenshin/Java-%EC%9E%90%EB%B0%94-%EC%BD%94%EB%94%A9-%EA%B7%9C%EC%B9%99-Java-Code-Conventions    
